<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <title>Challenge</title>
</head>
<body>

    <div class="container d-flex align-items-center justify-content-center">
        <p id="savolText">Savol</p>
    </div>
    <div class="container d-flex align-items-center justify-content-center">
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">Savol</span>
            </div>
            <input id="quiz" type="text" class="form-control" placeholder="Savolni shu yerga yozing"
                   aria-label="Username"
                   aria-describedby="basic-addon1">
        </div>

    </div>

    <div class="container d-flex align-items-center justify-content-center">

        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon1">1</span>
            </div>
            <input id="result" type="text" class="form-control" placeholder="to'gri javobni yozing"
                   aria-label="Username"
                   aria-describedby="basic-addon1" >
        </div>

    </div>

    <div class="container d-flex align-items-center justify-content-center">
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">2</span>
            </div>
            <input id="wrong1" type="text" class="form-control" placeholder="xato javobni yozing"
                   aria-label="Username"
                   aria-describedby="basic-addon1" >
        </div>
    </div>
    <div class="container d-flex align-items-center justify-content-center">
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">2</span>
            </div>
            <input id="wrong2" type="text" class="form-control" placeholder="xato javobni yozing"
                   aria-label="Username"
                   aria-describedby="basic-addon1" >
        </div>
    </div>
    <div class="container d-flex align-items-center justify-content-center">
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">2</span>
            </div>
            <input id="wrong3" type="text" class="form-control" placeholder="xato javobni yozing"
                   aria-label="Username"
                   aria-describedby="basic-addon1">
        </div>
    </div>
    <br>
    <div class="container d-flex align-items-center justify-content-center">
        <button id="addbtn" type="button" class="btn btn-outline-primary" onclick='add()'>Savol qo'shish</button>
    </div>
    <div class="container d-flex align-items-center justify-content-center">
        <button type="submit" class="btn btn-outline-success" onclick="create()">Yaratish</button>
    </div>


<script>
    let i = 0;
    let lists = [];

    function add(){
        if (i >= 10) {
            document.getElementById("savolText").innerHTML = "Boshqa savol qo'sha olmaysiz"
            document.getElementById("addbtn").remove()
            console.log(lists)
        } else {
            let question = {question: "", correctAnswer: "", wrong1: "", wrong2: "", wrong3: ""}
            question["question"] = document.getElementById("quiz").value
            question["correctAnswer"] = document.getElementById("result").value
            question["wrong1"] = document.getElementById("wrong1").value
            question["wrong2"] = document.getElementById("wrong2").value
            question["wrong3"] = document.getElementById("wrong3").value

            lists.push(question)

            document.getElementById("quiz").value = ""
            document.getElementById("result").value = ""
            document.getElementById("wrong1").value = ""
            document.getElementById("wrong2").value = ""
            document.getElementById("wrong3").value = ""
            i++
            document.getElementById("savolText").innerHTML = i + (" - Savol")
        }
    }


    function create() {
        fetch("http://localhost:8080/createQuiz", {
            method: "POST",
            body: JSON.stringify({
                questions: lists,
            }),
            headers: {
                'Authorization': 'Basic '+btoa(),
                "Content-type": "application/json; charset=UTF-8"
            }
        });
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>
</html>

